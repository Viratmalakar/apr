<!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">

<title>Dashboard Result</title>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>

body{

background:linear-gradient(135deg,#020617,#0f172a);
font-family:Segoe UI;
margin:0;
padding:20px;
color:white;

}

.container{

border:2px solid gold;

border-radius:12px;

padding:20px;

box-shadow:
0 0 10px gold,
inset 0 0 10px rgba(255,215,0,0.3);

}

.header{

display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:20px;

}

.title{

font-size:26px;
color:#FFD700;
font-weight:bold;

text-shadow:0 0 5px gold;

}

.controls{

display:flex;
gap:10px;

}

input{

padding:10px;
border-radius:6px;
border:2px solid gold;
background:black;
color:white;

box-shadow:inset 0 0 5px gold;

}

button{

padding:10px 20px;

border:none;
border-radius:6px;

font-weight:bold;
cursor:pointer;

background:linear-gradient(45deg,#FFD700,#b8860b);

box-shadow:
0 5px 0 #8b6914,
0 0 10px gold;

}

button:active{

transform:translateY(3px);

}

.table-box{

border:2px solid gold;

border-radius:10px;

overflow:auto;

box-shadow:
0 0 10px gold,
inset 0 0 10px rgba(255,215,0,0.3);

}

table{

width:100%;
border-collapse:collapse;

}

th{

background:linear-gradient(45deg,#FFD700,#b8860b);

padding:12px;

border:2px solid gold;

color:black;

}

td{

padding:10px;

border:1px solid gold;

}

tr{

background:#020617;

}

tr:hover{

background:#0f172a;

}

.report{

color:#FFD700;
margin-bottom:10px;

}

</style>

</head>

<body>

<div class="container">

<div class="header">

<div class="title">

Agent Performance Dashboard

</div>

<div class="controls">

<input type="text" id="search" placeholder="Search ID or Name" onkeyup="search()">

<button onclick="copyTable()">Copy Table</button>

<button onclick="reset()">Reset</button>

</div>

</div>

<div class="report">

Report Time : {{report_time}}

</div>

<div class="table-box" id="tableBox">

<table id="table">

<thead>

<tr>

<th>Employee ID</th>
<th>Agent Name</th>
<th>Total Login</th>
<th>Total Net Login</th>
<th>Total Break</th>
<th>Total Meeting</th>
<th>AHT</th>
<th>Total Mature</th>
<th>IB Mature</th>
<th>OB Mature</th>

</tr>

</thead>

<tbody>

{% for row in rows %}

<tr>

<td>{{row["Employee ID"]}}</td>
<td>{{row["Agent Name"]}}</td>
<td>{{row["Total Login"]}}</td>
<td>{{row["Total Net Login"]}}</td>
<td>{{row["Total Break"]}}</td>
<td>{{row["Total Meeting"]}}</td>
<td>{{row["AHT"]}}</td>
<td>{{row["Total Mature"]}}</td>
<td>{{row["IB Mature"]}}</td>
<td>{{row["OB Mature"]}}</td>

</tr>

{% endfor %}

</tbody>

</table>

</div>

</div>

<script>

function reset(){

location.href="/";

}

function search(){

let input=document.getElementById("search").value.toLowerCase();

let rows=document.querySelectorAll("#table tbody tr");

rows.forEach(row=>{

let id=row.cells[0].innerText.toLowerCase();

let name=row.cells[1].innerText.toLowerCase();

row.style.display=(id.includes(input)||name.includes(input))?"":"none";

});

}

function copyTable(){

html2canvas(document.getElementById("tableBox"),{scale:4}).then(canvas=>{

canvas.toBlob(blob=>{

navigator.clipboard.write([new ClipboardItem({'image/png':blob})]);

alert("Copied as image");

});

});

}

</script>

</body>
</html>
